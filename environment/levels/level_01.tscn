[gd_scene load_steps=14 format=3 uid="uid://ciin251ecvwj6"]

[ext_resource type="Script" uid="uid://ch423d7aciqht" path="res://scripts/levels/level_01.gd" id="1_32ihy"]
[ext_resource type="MeshLibrary" uid="uid://dkmfn84yaexcd" path="res://assets/models/blocks.meshlib" id="1_fmn4l"]
[ext_resource type="PackedScene" uid="uid://buf1kiwp2rx1w" path="res://ball/ball.tscn" id="2_rdraa"]
[ext_resource type="Script" uid="uid://cliagejculu8e" path="res://scripts/death_zone.gd" id="3_vuu73"]
[ext_resource type="Script" uid="uid://cjpsqfbq0gshx" path="res://scripts/victory_zone.gd" id="4_roo3c"]
[ext_resource type="PackedScene" uid="uid://rur8ocsxec2j" path="res://environment/pause_menu.tscn" id="7_sg80t"]
[ext_resource type="PackedScene" uid="uid://lsn8rnrrejyk" path="res://environment/game_over.tscn" id="8_356wj"]
[ext_resource type="AudioStream" uid="uid://bl2lbogp7m37m" path="res://assets/sound/backgroundMusicLevel01.ogg" id="8_scq4g"]
[ext_resource type="AudioStream" uid="uid://bvhchhnqv46i0" path="res://assets/sound/start.ogg" id="9_scq4g"]
[ext_resource type="AudioStream" uid="uid://dp1clvd7f2wlf" path="res://assets/sound/beep.mp3" id="10_2ybft"]

[sub_resource type="Environment" id="Environment_rdraa"]
background_mode = 1
background_color = Color(7.31587e-06, 0.609826, 0.716026, 1)
ambient_light_source = 2
ambient_light_color = Color(0, 0.611765, 0.717647, 1)
tonemap_mode = 3
fog_enabled = true
fog_light_color = Color(0, 0.611765, 0.717647, 1)
adjustment_enabled = true
adjustment_brightness = 0.75
adjustment_contrast = 1.5
adjustment_saturation = 1.2

[sub_resource type="BoxShape3D" id="BoxShape3D_rdraa"]
size = Vector3(150, 1, 150)

[sub_resource type="BoxShape3D" id="BoxShape3D_vuu73"]
size = Vector3(2, 1, 2)

[node name="Level_01" type="Node3D"]
script = ExtResource("1_32ihy")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_fmn4l")
cell_size = Vector3(4, 4, 4)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(0, 0, 655360, 0, 1, 1441793, 65535, 0, 655361, 1, 0, 1, 1, 65535, 2, 1, 1, 1441794, 65535, 1, 655362, 65535, 65535, 1048578, 0, 65535, 1048576, 0, 65534, 0, 0, 65533, 0, 0, 65532, 4, 65536, 65531, 0, 131071, 65531, 0, 65537, 65531, 0, 65536, 65529, 0, 65536, 65530, 0, 131071, 65530, 0, 65537, 65530, 0, 0, 65528, 655364, -65536, 65527, 655364, -65535, 65527, 655364, -1, 65527, 655364, 65535, 65528, 655364, 1, 65528, 655364, 65537, 65529, 655360, 131071, 65529, 655360, -65535, 65526, 655360, -65536, 65526, 655360, -1, 65526, 655360, -65535, 65525, 655360, -65536, 65525, 655360, -1, 65525, 655360, -1, 65524, 1048577, -65535, 65524, 1048577, -65534, 65526, 1441794, -2, 65526, 655362, -65534, 65524, 2, -2, 65524, 1048578, -65536, 65524, 1048577, -65534, 65525, 1, -2, 65525, 1048576, -3, 65525, 1048576, -5, 65525, 1048576, -4, 65525, 1048576, -6, 65525, 1048576, -7, 65525, 1048576, -10, 65525, 1048576, -11, 65525, 1048576, -12, 65525, 1048576, -13, 65525, 1048576, -14, 65525, 1048576, -15, 65525, 1048580, -8, 65525, 1048576, -14, 65526, 655362, -14, 65524, 1048578, -13, 65526, 1441793, -13, 65524, 1048577, -12, 65526, 1441794, -12, 65524, 2, 65520, 65525, 1048580, 131055, 65525, 1048580, 196590, 65525, 1048580, 262125, 65525, 1048576, 262125, 65524, 1, 262125, 65526, 1441792, 262124, 65525, 0, 262124, 65526, 1441792, 262122, 65526, 1441792, 262122, 65525, 1441792, 262122, 65523, 1048577, 262124, 65523, 1048577, 262125, 65523, 2, 262125, 65527, 1441794, 262120, 65523, 1048578, 262120, 65527, 655362, 262120, 65524, 655361, 262120, 65525, 655361, 262120, 65526, 655361, 262121, 65523, 1048577, 262124, 65527, 1441793, 262123, 65527, 1441793, 262122, 65527, 1441793, 262121, 65527, 1441793, 262121, 65525, 0, -65555, 65524, 1441792, -65555, 65525, 1441792, -65556, 65523, 1441792, -65554, 65523, 1, -65554, 65525, 1, -65554, 65522, 2, -65554, 65524, 1, -65556, 65524, 1441792, -65556, 65525, 1441792, -65555, 65523, 1441792, -65555, 65522, 3, -65556, 65522, 1048579, -65557, 65522, 1048578, -65557, 65523, 655361, -65557, 65524, 655361, -65557, 65525, 655361, -65557, 65526, 655362, -65556, 65526, 1441793, -65555, 65526, 1441793, -65554, 65526, 1441794, 262121, 65526, 0, 262123, 65525, 0, 262123, 65526, 0, 262123, 65523, 1048577, -65555, 65521, 1, -65556, 65521, 655361, -65556, 65520, 655361, -65555, 65520, 1, -65556, 65519, 655361, -65555, 65518, 1, -65556, 65517, 655361, -65555, 65516, 1, -65555, 65514, 1, -65556, 65513, 655361, -65555, 65512, 1, -65556, 65511, 655361, -65556, 65509, 655361, -65555, 65509, 1, -65555, 65508, 1, -65556, 65508, 655361, -65555, 65507, 655360, -65554, 65507, 655360, -65553, 65508, 655363, -65553, 65507, 2, -65553, 65509, 655362, -65552, 65509, 655363, -65551, 65509, 655360, -65550, 65509, 1441795, -65549, 65509, 1441794, -65549, 65508, 1441795, -65549, 65507, 655360, -65549, 65506, 655360, -65549, 65505, 655360, -65549, 65504, 655360, -65549, 65503, 3, -65549, 65502, 2, -65550, 65502, 3, -65552, 65502, 655360, -65551, 65502, 655360, -65553, 65502, 655360, -65554, 65502, 655360, -65556, 65506, 1048578, -65556, 65507, 655361, -65555, 65506, 2, -65555, 65502, 1048576, -65556, 65502, 1048576, -65557, 65502, 1048576, -65558, 65502, 1048576, -65559, 65502, 1048576, -65560, 65502, 1048576, -65561, 65502, 1048576, -65562, 65502, 1048576, -65563, 65502, 1048576, -65564, 65502, 1048580, -29, 65502, 1048576, -29, 65503, 1441793, -29, 65501, 1048576, -29, 65500, 1048576, -29, 65499, 4, 65507, 65498, 0, 65508, 65497, 1441793, 65507, 65497, 0, 65509, 65497, 1441793, 65507, 65496, 1048577, 65510, 65497, 1441794, 65506, 65497, 655362, 65506, 65496, 1048578, 65508, 65496, 2, 65509, 65496, 1441792, 65510, 65496, 2, 65509, 65495, 1, 65509, 65494, 0, 65508, 65495, 655361, 65508, 65494, 655361, 65510, 65494, 1441796, 65509, 65493, 1048577, 65508, 65493, 1048578, 65510, 65493, 2, 131047, 65494, 1441796, 196584, 65494, 1441796, 262121, 65494, 1441792, 262122, 65494, 1441794, 262122, 65493, 1441792, 262122, 65492, 1441792, 262122, 65491, 2, 262121, 65491, 1441792, 262120, 65491, 1441792, 262118, 65491, 1441792, 262119, 65491, 1441792, 262116, 65491, 1441792, 262117, 65491, 1441792, 262115, 65491, 1441792, 262114, 65491, 1441792, 262112, 65491, 1048578, 262113, 65491, 1441792, 262110, 65492, 1441795, 262109, 65492, 1048578, 262109, 65493, 1441795, 262110, 65493, 1441794, 262112, 65492, 1441792, 262108, 65493, 1441792, 262107, 65493, 1441792, 262106, 65493, 1441792, 262105, 65493, 1441792, 262105, 65492, 1441792, 262105, 65490, 1441792, 262105, 65491, 1441792, 262105, 65489, 1441792, 262105, 65488, 1441792, 262105, 65487, 1441792, 262105, 65486, 1441792, 262105, 65485, 2, 262104, 65485, 1441793, 262103, 65485, 1441793, 262102, 65485, 1441793, 262101, 65485, 1441793, 262100, 65485, 1441793, 262098, 65485, 1048578, 262099, 65485, 1441793, 262098, 65486, 1441792, 262098, 65487, 1441792, 262098, 65488, 1441792, 262098, 65489, 1441792, 262098, 65490, 1441792, 262098, 65491, 1441792, 262098, 65492, 1441794, 196561, 65492, 1441796, 196561, 65491, 1441796, 131024, 65491, 1441796, 131024, 65492, 1441796, 65487, 65491, 1441796, 65487, 65492, 1441796, -50, 65491, 1441796, -50, 65492, 1441796, -65587, 65491, 1441796, -65587, 65492, 1441796, -131124, 65491, 1441796, -131124, 65492, 1441796, -196661, 65491, 1441796, -196661, 65492, 1441796, -196662, 65493, 1441794, -196662, 65490, 2, -196664, 65490, 1048578, -196664, 65493, 655362, -196662, 65491, 655360, -196663, 65492, 655360, -196662, 65492, 655360, -196663, 65493, 1441793, -196663, 65490, 1048577, -196664, 65491, 655361, -196663, 65491, 1048581, -196664, 65492, 655361, -65555, 65517, 1, -65555, 65515, 1, -65556, 65518, 655361, -65556, 65516, 655361, -65556, 65512, 655361, -65556, 65510, 655361, -65555, 65513, 1, 262111, 65492, 1441793)
}
metadata/_editor_floor_ = Vector3(0, 3, 0)

[node name="Ball" parent="." instance=ExtResource("2_rdraa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, 0.75, -0.433013, 0, 0.5, 0.866025, 0.866025, -0.433013, 0.25, 0, 5, 0)
light_color = Color(0.994714, 0.783687, 0.600066, 1)
light_energy = 2.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rdraa")

[node name="DeathZone" type="Area3D" parent="."]
script = ExtResource("3_vuu73")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeathZone"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, -50, 0)
shape = SubResource("BoxShape3D_rdraa")

[node name="VictoryZone" type="Area3D" parent="."]
transform = Transform3D(0.994301, 0, -0.106611, 0, 1, 0, 0.106611, 0, 0.994301, 0, 0, 0)
script = ExtResource("4_roo3c")
NEXT_LEVEL = "uid://cbape77igbyxo"

[node name="CollisionShape3D" type="CollisionShape3D" parent="VictoryZone"]
transform = Transform3D(0.999824, -0.0183498, -0.00398634, 0.0183346, 0.999825, -0.00381148, 0.00405549, 0.00373772, 0.999984, -238.088, -16.1609, -155.368)
shape = SubResource("BoxShape3D_vuu73")

[node name="TimerLabel" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -39.0
offset_right = 39.0
offset_bottom = 83.0
grow_horizontal = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 60
metadata/_edit_use_anchors_ = true

[node name="CountDownTimer" type="Timer" parent="."]
wait_time = 180.0
one_shot = true
autostart = true

[node name="PauseMenu" parent="." instance=ExtResource("7_sg80t")]

[node name="GameOverMenu" parent="." instance=ExtResource("8_356wj")]

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_scq4g")
volume_db = -10.0

[node name="TimeUpSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_scq4g")
volume_db = 5.0

[node name="BeepSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_2ybft")
volume_db = -5.0

[node name="StartSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_scq4g")
volume_db = 5.0

[node name="CountDownLabel" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 70
metadata/_edit_use_anchors_ = true

[node name="TestVictoryZone" type="Area3D" parent="."]
transform = Transform3D(0.994301, 0, -0.106611, 0, 1, 0, 0.106611, 0, 0.994301, 0, 0, -10.675)
script = ExtResource("4_roo3c")
NEXT_LEVEL = "uid://cbape77igbyxo"

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestVictoryZone"]
transform = Transform3D(0.989304, -0.145675, 0.00745042, 0.145731, 0.984912, -0.09334, 0.00625922, 0.0934275, 0.995605, -0.304518, 0.373393, -0.372908)
shape = SubResource("BoxShape3D_vuu73")

[connection signal="body_entered" from="DeathZone" to="DeathZone" method="_on_body_entered"]
[connection signal="body_entered" from="VictoryZone" to="VictoryZone" method="_on_body_entered"]
[connection signal="body_entered" from="TestVictoryZone" to="TestVictoryZone" method="_on_body_entered"]
