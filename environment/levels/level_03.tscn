[gd_scene load_steps=8 format=3 uid="uid://cfborojlxsgr7"]

[ext_resource type="MeshLibrary" uid="uid://dkmfn84yaexcd" path="res://assets/models/blocks.meshlib" id="1_6bxer"]
[ext_resource type="PackedScene" uid="uid://buf1kiwp2rx1w" path="res://player/ball.tscn" id="2_ijp26"]
[ext_resource type="Script" uid="uid://cliagejculu8e" path="res://environment/death_zone.gd" id="3_71od7"]
[ext_resource type="Script" uid="uid://cjpsqfbq0gshx" path="res://environment/victory_zone.gd" id="4_bwh5p"]

[sub_resource type="Environment" id="Environment_hpgq6"]
background_mode = 1
background_color = Color(7.31587e-06, 0.609826, 0.716026, 1)
ambient_light_source = 2
ambient_light_color = Color(0, 0.611765, 0.717647, 1)
tonemap_mode = 3
fog_enabled = true
fog_light_color = Color(0, 0.611765, 0.717647, 1)
adjustment_enabled = true
adjustment_brightness = 0.75
adjustment_contrast = 1.5
adjustment_saturation = 1.2

[sub_resource type="BoxShape3D" id="BoxShape3D_5hbhg"]
size = Vector3(150, 1, 150)

[sub_resource type="BoxShape3D" id="BoxShape3D_7e1h1"]
size = Vector3(2, 1, 2)

[node name="Level_03" type="Node3D"]

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_6bxer")
cell_size = Vector3(4, 4, 4)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(0, 0, 655360, 0, 1, 1441793, 65535, 0, 655361, 1, 0, 1, 1, 65535, 2, 1, 1, 1441794, 65535, 1, 655362, 65535, 65535, 1048578, 0, 65535, 1048576, 0, 65534, 0, 0, 65533, 0, 0, 65532, 4, 65536, 65531, 0, 131071, 65531, 0, 65537, 65531, 0, 65536, 65529, 0, 65536, 65530, 0, 131071, 65530, 0, 65537, 65530, 0, 0, 65528, 655364, -65536, 65527, 655364, -65535, 65527, 655364, -1, 65527, 655364, 65535, 65528, 655364, 1, 65528, 655364, 65537, 65529, 655360, 131071, 65529, 655360, -65535, 65526, 655360, -65536, 65526, 655360, -1, 65526, 655360, -65535, 65525, 655360, -65536, 65525, 655360, -1, 65525, 655360, -1, 65524, 1048577, -65535, 65524, 1048577, -65534, 65526, 1441794, -2, 65526, 655362, -65534, 65524, 2, -2, 65524, 1048578, -65536, 65524, 1048577, -65534, 65525, 1, -2, 65525, 1048576, -3, 65525, 1048576, -5, 65525, 1048576, -4, 65525, 1048576, -6, 65525, 1048576, -7, 65525, 1048576, -8, 65525, 1048576, -9, 65525, 1048576, -10, 65525, 1048576, -11, 65525, 1048576, -12, 65525, 1048576, -13, 65525, 1048576, -14, 65525, 1048576)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="Ball" parent="." instance=ExtResource("2_ijp26")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, 0.75, -0.433013, 0, 0.5, 0.866025, 0.866025, -0.433013, 0.25, 0, 5, 0)
light_color = Color(0.994714, 0.783687, 0.600066, 1)
light_energy = 2.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_hpgq6")

[node name="DeathZone" type="Area3D" parent="."]
script = ExtResource("3_71od7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeathZone"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10, 0)
shape = SubResource("BoxShape3D_5hbhg")

[node name="VictoryZone" type="Area3D" parent="."]
script = ExtResource("4_bwh5p")
NEXT_LEVEL = "uid://ccun22jcdqfi4"

[node name="CollisionShape3D" type="CollisionShape3D" parent="VictoryZone"]
transform = Transform3D(0.999824, -0.0183498, -0.00398625, 0.0183346, 0.999825, -0.00381148, 0.00405549, 0.00373772, 0.999985, 0, 3.54243, -35.9495)
shape = SubResource("BoxShape3D_7e1h1")

[connection signal="body_entered" from="DeathZone" to="DeathZone" method="_on_body_entered"]
[connection signal="body_entered" from="VictoryZone" to="VictoryZone" method="_on_body_entered"]
