[gd_scene load_steps=15 format=3 uid="uid://cbape77igbyxo"]

[ext_resource type="MeshLibrary" uid="uid://dkmfn84yaexcd" path="res://assets/models/blocks.meshlib" id="1_2bpfq"]
[ext_resource type="Script" uid="uid://upojrra7tnjf" path="res://scripts/levels/level_02.gd" id="1_gu1mg"]
[ext_resource type="PackedScene" uid="uid://buf1kiwp2rx1w" path="res://ball/ball.tscn" id="2_gu1mg"]
[ext_resource type="Script" uid="uid://cliagejculu8e" path="res://scripts/death_zone.gd" id="3_hacgo"]
[ext_resource type="Script" uid="uid://cjpsqfbq0gshx" path="res://scripts/victory_zone.gd" id="4_vj2ul"]
[ext_resource type="PackedScene" uid="uid://rur8ocsxec2j" path="res://environment/pause_menu.tscn" id="5_mianr"]
[ext_resource type="PackedScene" uid="uid://lsn8rnrrejyk" path="res://environment/game_over.tscn" id="6_hmu2k"]
[ext_resource type="AudioStream" uid="uid://bti7xwvhd6k3h" path="res://assets/sound/backgroundMusicLevel02.mp3" id="7_2bpfq"]
[ext_resource type="AudioStream" uid="uid://bvhchhnqv46i0" path="res://assets/sound/start.ogg" id="8_2obrr"]
[ext_resource type="AudioStream" uid="uid://dp1clvd7f2wlf" path="res://assets/sound/beep.mp3" id="9_x88r0"]

[sub_resource type="Environment" id="Environment_2vcbr"]
background_mode = 1
background_color = Color(0.818222, 0.309021, 0.737606, 1)
ambient_light_source = 2
ambient_light_color = Color(0.694896, 0.444392, 0.682317, 1)
reflected_light_source = 2
tonemap_mode = 3
fog_enabled = true
fog_light_color = Color(0.739879, 0.578363, 0.966557, 1)
adjustment_enabled = true
adjustment_brightness = 0.75
adjustment_contrast = 1.5
adjustment_saturation = 1.2

[sub_resource type="BoxShape3D" id="BoxShape3D_ltr1k"]
size = Vector3(150, 1, 150)

[sub_resource type="BoxShape3D" id="BoxShape3D_wh50u"]
size = Vector3(2, 1, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_gu1mg"]
size = Vector3(2, 1, 2)

[node name="level_02" type="Node3D"]
script = ExtResource("1_gu1mg")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_2bpfq")
cell_size = Vector3(4, 4, 4)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(0, 0, 655360, 0, 1, 1441793, 65535, 0, 655361, 1, 0, 1, 1, 65535, 2, 1, 1, 1441794, 65535, 1, 655362, 65535, 65535, 1048578, 0, 65535, 1048576, 0, 65534, 0, 0, 65533, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Ball" parent="." instance=ExtResource("2_gu1mg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, 0.75, -0.433013, 0, 0.5, 0.866025, 0.866025, -0.433013, 0.25, 0, 5, 0)
light_color = Color(0.994714, 0.783687, 0.600066, 1)
light_energy = 2.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_2vcbr")

[node name="DeathZone" type="Area3D" parent="."]
script = ExtResource("3_hacgo")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeathZone"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, -50, 0)
shape = SubResource("BoxShape3D_ltr1k")

[node name="VictoryZone" type="Area3D" parent="."]
transform = Transform3D(0.994301, 0, -0.106611, 0, 1, 0, 0.106611, 0, 0.994301, 0, 0, 0)
script = ExtResource("4_vj2ul")
NEXT_LEVEL = "uid://cfborojlxsgr7"

[node name="CollisionShape3D" type="CollisionShape3D" parent="VictoryZone"]
transform = Transform3D(0.999824, -0.0183498, -0.00398634, 0.0183346, 0.999825, -0.00381148, 0.00405549, 0.00373772, 0.999984, -238.088, -16.1609, -155.368)
shape = SubResource("BoxShape3D_wh50u")

[node name="TimerLabel" type="Label" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -39.0
offset_right = 39.0
offset_bottom = 83.0
grow_horizontal = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 60
metadata/_edit_use_anchors_ = true

[node name="CountDownTimer" type="Timer" parent="."]
wait_time = 180.0
one_shot = true
autostart = true

[node name="PauseMenu" parent="." instance=ExtResource("5_mianr")]

[node name="GameOverMenu" parent="." instance=ExtResource("6_hmu2k")]

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_2bpfq")
volume_db = -10.0

[node name="TimeUpSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_2obrr")
volume_db = 5.0

[node name="BeepSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_x88r0")
volume_db = -5.0

[node name="StartSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_2obrr")
volume_db = 5.0

[node name="CountDownLabel" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 70
metadata/_edit_use_anchors_ = true

[node name="TestVictoryZone" type="Area3D" parent="."]
transform = Transform3D(0.994301, 0, -0.106611, 0, 1, 0, 0.106611, 0, 0.994301, 0, 0, 0)
script = ExtResource("4_vj2ul")
NEXT_LEVEL = "uid://cfborojlxsgr7"

[node name="CollisionShape3D" type="CollisionShape3D" parent="TestVictoryZone"]
transform = Transform3D(0.989304, -0.145675, 0.00745042, 0.145731, 0.984912, -0.09334, 0.00625919, 0.0934275, 0.995605, -1.46922, -0.0687776, -11.2354)
shape = SubResource("BoxShape3D_gu1mg")

[node name="Round2" type="Label" parent="."]
offset_left = 20.0
offset_right = 219.0
offset_bottom = 69.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 50
text = "Round 2"

[connection signal="body_entered" from="DeathZone" to="DeathZone" method="_on_body_entered"]
[connection signal="body_entered" from="VictoryZone" to="VictoryZone" method="_on_body_entered"]
[connection signal="body_entered" from="TestVictoryZone" to="TestVictoryZone" method="_on_body_entered"]
